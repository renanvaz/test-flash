package {	import flash.display.MovieClip;	import flash.media.Microphone;	import flash.system.Security;	import flash.events.ActivityEvent;    import flash.events.SampleDataEvent;	public class Test extends MovieClip {        public const SAMPLING_RATE:int  = 44100;        public const SAMPLES:int        = 512;        public const REPEAT:int         = 3;        public const OFFSET:int         = 60;        private var mic: Microphone;		public function Test(): void {			// bytes.writeUTFBytes("A");            // trace(bytes.length);            // bytes.position = 0;            // trace(bytes.readByte());            mic = Microphone.getMicrophone();            mic.framesPerPacket = 2; // Default 2            mic.rate = 44; // 44100Hz, Default 8            mic.setLoopBack(true);            mic.setUseEchoSuppression(true);            mic.addEventListener(SampleDataEvent.SAMPLE_DATA, onSampleData);		}        private function onSampleData (event:SampleDataEvent):void {            trace(event.data.length);            trace(event.data.bytesAvailable);            for (var i:int=0; i < SAMPLES; i++) {                trace(event.data.readByte());            }            mic.removeEventListener(SampleDataEvent.SAMPLE_DATA, onSampleData);        }	}}